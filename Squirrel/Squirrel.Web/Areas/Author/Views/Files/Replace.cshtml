@model Squirrel.Domain.ViewModels.FileReplaceModel

@Html.Partial("_Message")

<div id="upload_file_con">
    @Html.Partial("Upload")
</div>


@using (Ajax.BeginForm("Replace", "Files", null, new AjaxOptions { UpdateTargetId = "option_con_2" }, new { id = "file_details_form" }))
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(m => m.Id)
    @Html.HiddenFor(m => m.FileAddress)

    <p class="form-group">
        @Html.ValidationMessageFor(m => m.FileAddress)
    </p>

    <p>
        <button type="submit" class="btn btn-default">جایگذینی</button>
        <button type="button" class="btn btn-default" onclick="$('#option_con_2').html('');">انصراف</button>
    </p>
}

<script type="text/javascript">
    $(function () {
        $.validator.unobtrusive.parse("#file_details_form");
        $("#file_details_form").data("validator").settings.ignore = "";

        $('#FileAddress').bind('change', function () {
            $(this).valid();
        });
    });
</script>